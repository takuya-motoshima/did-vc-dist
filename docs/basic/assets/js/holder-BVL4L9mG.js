import"./style-D-PBLulJ.js";import{b as Z,d as q,s as z}from"./vcManager-BMuxMvip.js";const H=function(d,w){let i=d;const l=Q[w];let e=null,t=0,u=null;const p=[],b={},g=function(r,f){t=i*4+17,e=(function(n){const c=new Array(n);for(let s=0;s<n;s+=1){c[s]=new Array(n);for(let y=0;y<n;y+=1)c[s][y]=null}return c})(t),h(0,0),h(t-7,0),h(0,t-7),T(),L(),I(r,f),i>=7&&k(r),u==null&&(u=W(i,l,p)),P(u,f)},h=function(r,f){for(let n=-1;n<=7;n+=1)if(!(r+n<=-1||t<=r+n))for(let c=-1;c<=7;c+=1)f+c<=-1||t<=f+c||(0<=n&&n<=6&&(c==0||c==6)||0<=c&&c<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=c&&c<=4?e[r+n][f+c]=!0:e[r+n][f+c]=!1)},A=function(){let r=0,f=0;for(let n=0;n<8;n+=1){g(!0,n);const c=O.getLostPoint(b);(n==0||r>c)&&(r=c,f=n)}return f},L=function(){for(let r=8;r<t-8;r+=1)e[r][6]==null&&(e[r][6]=r%2==0);for(let r=8;r<t-8;r+=1)e[6][r]==null&&(e[6][r]=r%2==0)},T=function(){const r=O.getPatternPosition(i);for(let f=0;f<r.length;f+=1)for(let n=0;n<r.length;n+=1){const c=r[f],s=r[n];if(e[c][s]==null)for(let y=-2;y<=2;y+=1)for(let x=-2;x<=2;x+=1)y==-2||y==2||x==-2||x==2||y==0&&x==0?e[c+y][s+x]=!0:e[c+y][s+x]=!1}},k=function(r){const f=O.getBCHTypeNumber(i);for(let n=0;n<18;n+=1){const c=!r&&(f>>n&1)==1;e[Math.floor(n/3)][n%3+t-8-3]=c}for(let n=0;n<18;n+=1){const c=!r&&(f>>n&1)==1;e[n%3+t-8-3][Math.floor(n/3)]=c}},I=function(r,f){const n=l<<3|f,c=O.getBCHTypeInfo(n);for(let s=0;s<15;s+=1){const y=!r&&(c>>s&1)==1;s<6?e[s][8]=y:s<8?e[s+1][8]=y:e[t-15+s][8]=y}for(let s=0;s<15;s+=1){const y=!r&&(c>>s&1)==1;s<8?e[8][t-s-1]=y:s<9?e[8][15-s-1+1]=y:e[8][15-s-1]=y}e[t-8][8]=!r},P=function(r,f){let n=-1,c=t-1,s=7,y=0;const x=O.getMaskFunction(f);for(let _=t-1;_>0;_-=2)for(_==6&&(_-=1);;){for(let M=0;M<2;M+=1)if(e[c][_-M]==null){let m=!1;y<r.length&&(m=(r[y]>>>s&1)==1),x(c,_-M)&&(m=!m),e[c][_-M]=m,s-=1,s==-1&&(y+=1,s=7)}if(c+=n,c<0||t<=c){c-=n,n=-n;break}}},$=function(r,f){let n=0,c=0,s=0;const y=new Array(f.length),x=new Array(f.length);for(let B=0;B<f.length;B+=1){const C=f[B].dataCount,D=f[B].totalCount-C;c=Math.max(c,C),s=Math.max(s,D),y[B]=new Array(C);for(let R=0;R<y[B].length;R+=1)y[B][R]=255&r.getBuffer()[R+n];n+=C;const j=O.getErrorCorrectPolynomial(D),F=U(y[B],j.getLength()-1).mod(j);x[B]=new Array(j.getLength()-1);for(let R=0;R<x[B].length;R+=1){const K=R+F.getLength()-x[B].length;x[B][R]=K>=0?F.getAt(K):0}}let _=0;for(let B=0;B<f.length;B+=1)_+=f[B].totalCount;const M=new Array(_);let m=0;for(let B=0;B<c;B+=1)for(let C=0;C<f.length;C+=1)B<y[C].length&&(M[m]=y[C][B],m+=1);for(let B=0;B<s;B+=1)for(let C=0;C<f.length;C+=1)B<x[C].length&&(M[m]=x[C][B],m+=1);return M},W=function(r,f,n){const c=V.getRSBlocks(r,f),s=Y();for(let x=0;x<n.length;x+=1){const _=n[x];s.put(_.getMode(),4),s.put(_.getLength(),O.getLengthInBits(_.getMode(),r)),_.write(s)}let y=0;for(let x=0;x<c.length;x+=1)y+=c[x].dataCount;if(s.getLengthInBits()>y*8)throw"code length overflow. ("+s.getLengthInBits()+">"+y*8+")";for(s.getLengthInBits()+4<=y*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=y*8||(s.put(236,8),s.getLengthInBits()>=y*8));)s.put(17,8);return $(s,c)};b.addData=function(r,f){f=f||"Byte";let n=null;switch(f){case"Numeric":n=tt(r);break;case"Alphanumeric":n=et(r);break;case"Byte":n=nt(r);break;case"Kanji":n=rt(r);break;default:throw"mode:"+f}p.push(n),u=null},b.isDark=function(r,f){if(r<0||t<=r||f<0||t<=f)throw r+","+f;return e[r][f]},b.getModuleCount=function(){return t},b.make=function(){if(i<1){let r=1;for(;r<40;r++){const f=V.getRSBlocks(r,l),n=Y();for(let s=0;s<p.length;s++){const y=p[s];n.put(y.getMode(),4),n.put(y.getLength(),O.getLengthInBits(y.getMode(),r)),y.write(n)}let c=0;for(let s=0;s<f.length;s++)c+=f[s].dataCount;if(n.getLengthInBits()<=c*8)break}i=r}g(!1,A())},b.createTableTag=function(r,f){r=r||2,f=typeof f>"u"?r*4:f;let n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+f+"px;",n+='">',n+="<tbody>";for(let c=0;c<b.getModuleCount();c+=1){n+="<tr>";for(let s=0;s<b.getModuleCount();s+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+r+"px;",n+=" height: "+r+"px;",n+=" background-color: ",n+=b.isDark(c,s)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>",n},b.createSvgTag=function(r,f,n,c){let s={};typeof arguments[0]=="object"&&(s=arguments[0],r=s.cellSize,f=s.margin,n=s.alt,c=s.title),r=r||2,f=typeof f>"u"?r*4:f,n=typeof n=="string"?{text:n}:n||{},n.text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,c=typeof c=="string"?{text:c}:c||{},c.text=c.text||null,c.id=c.text?c.id||"qrcode-title":null;const y=b.getModuleCount()*r+f*2;let x,_,M,m,B="",C;for(C="l"+r+",0 0,"+r+" -"+r+",0 0,-"+r+"z ",B+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',B+=s.scalable?"":' width="'+y+'px" height="'+y+'px"',B+=' viewBox="0 0 '+y+" "+y+'" ',B+=' preserveAspectRatio="xMinYMin meet"',B+=c.text||n.text?' role="img" aria-labelledby="'+S([c.id,n.id].join(" ").trim())+'"':"",B+=">",B+=c.text?'<title id="'+S(c.id)+'">'+S(c.text)+"</title>":"",B+=n.text?'<description id="'+S(n.id)+'">'+S(n.text)+"</description>":"",B+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',B+='<path d="',M=0;M<b.getModuleCount();M+=1)for(m=M*r+f,x=0;x<b.getModuleCount();x+=1)b.isDark(M,x)&&(_=x*r+f,B+="M"+_+","+m+C);return B+='" stroke="transparent" fill="black"/>',B+="</svg>",B},b.createDataURL=function(r,f){r=r||2,f=typeof f>"u"?r*4:f;const n=b.getModuleCount()*r+f*2,c=f,s=n-f;return ct(n,n,function(y,x){if(c<=y&&y<s&&c<=x&&x<s){const _=Math.floor((y-c)/r),M=Math.floor((x-c)/r);return b.isDark(M,_)?0:1}else return 1})},b.createImgTag=function(r,f,n){r=r||2,f=typeof f>"u"?r*4:f;const c=b.getModuleCount()*r+f*2;let s="";return s+="<img",s+=' src="',s+=b.createDataURL(r,f),s+='"',s+=' width="',s+=c,s+='"',s+=' height="',s+=c,s+='"',n&&(s+=' alt="',s+=S(n),s+='"'),s+="/>",s};const S=function(r){let f="";for(let n=0;n<r.length;n+=1){const c=r.charAt(n);switch(c){case"<":f+="&lt;";break;case">":f+="&gt;";break;case"&":f+="&amp;";break;case'"':f+="&quot;";break;default:f+=c;break}}return f},X=function(r){r=typeof r>"u"?2:r;const n=b.getModuleCount()*1+r*2,c=r,s=n-r;let y,x,_,M,m;const B={"██":"█","█ ":"▀"," █":"▄","  ":" "},C={"██":"▀","█ ":"▀"," █":" ","  ":" "};let D="";for(y=0;y<n;y+=2){for(_=Math.floor((y-c)/1),M=Math.floor((y+1-c)/1),x=0;x<n;x+=1)m="█",c<=x&&x<s&&c<=y&&y<s&&b.isDark(_,Math.floor((x-c)/1))&&(m=" "),c<=x&&x<s&&c<=y+1&&y+1<s&&b.isDark(M,Math.floor((x-c)/1))?m+=" ":m+="█",D+=r<1&&y+1>=s?C[m]:B[m];D+=`
`}return n%2&&r>0?D.substring(0,D.length-n-1)+Array(n+1).join("▀"):D.substring(0,D.length-1)};return b.createASCII=function(r,f){if(r=r||1,r<2)return X(f);r-=1,f=typeof f>"u"?r*2:f;const n=b.getModuleCount()*r+f*2,c=f,s=n-f;let y,x,_,M;const m=Array(r+1).join("██"),B=Array(r+1).join("  ");let C="",D="";for(y=0;y<n;y+=1){for(_=Math.floor((y-c)/r),D="",x=0;x<n;x+=1)M=1,c<=x&&x<s&&c<=y&&y<s&&b.isDark(_,Math.floor((x-c)/r))&&(M=0),D+=M?m:B;for(_=0;_<r;_+=1)C+=D+`
`}return C.substring(0,C.length-1)},b.renderTo2dContext=function(r,f){f=f||2;const n=b.getModuleCount();for(let c=0;c<n;c++)for(let s=0;s<n;s++)r.fillStyle=b.isDark(c,s)?"black":"white",r.fillRect(s*f,c*f,f,f)},b};H.stringToBytes=function(d){const w=[];for(let a=0;a<d.length;a+=1){const o=d.charCodeAt(a);w.push(o&255)}return w};H.createStringToBytes=function(d,w){const a=(function(){const i=it(d),l=function(){const u=i.read();if(u==-1)throw"eof";return u};let e=0;const t={};for(;;){const u=i.read();if(u==-1)break;const p=l(),b=l(),g=l(),h=String.fromCharCode(u<<8|p),A=b<<8|g;t[h]=A,e+=1}if(e!=w)throw e+" != "+w;return t})(),o=63;return function(i){const l=[];for(let e=0;e<i.length;e+=1){const t=i.charCodeAt(e);if(t<128)l.push(t);else{const u=a[i.charAt(e)];typeof u=="number"?(u&255)==u?l.push(u):(l.push(u>>>8),l.push(u&255)):l.push(o)}}return l}};const E={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Q={L:1,M:0,Q:3,H:2},N={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},O=(function(){const d=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],w=1335,a=7973,o=21522,i={},l=function(e){let t=0;for(;e!=0;)t+=1,e>>>=1;return t};return i.getBCHTypeInfo=function(e){let t=e<<10;for(;l(t)-l(w)>=0;)t^=w<<l(t)-l(w);return(e<<10|t)^o},i.getBCHTypeNumber=function(e){let t=e<<12;for(;l(t)-l(a)>=0;)t^=a<<l(t)-l(a);return e<<12|t},i.getPatternPosition=function(e){return d[e-1]},i.getMaskFunction=function(e){switch(e){case N.PATTERN000:return function(t,u){return(t+u)%2==0};case N.PATTERN001:return function(t,u){return t%2==0};case N.PATTERN010:return function(t,u){return u%3==0};case N.PATTERN011:return function(t,u){return(t+u)%3==0};case N.PATTERN100:return function(t,u){return(Math.floor(t/2)+Math.floor(u/3))%2==0};case N.PATTERN101:return function(t,u){return t*u%2+t*u%3==0};case N.PATTERN110:return function(t,u){return(t*u%2+t*u%3)%2==0};case N.PATTERN111:return function(t,u){return(t*u%3+(t+u)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){let t=U([1],0);for(let u=0;u<e;u+=1)t=t.multiply(U([1,v.gexp(u)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case E.MODE_NUMBER:return 10;case E.MODE_ALPHA_NUM:return 9;case E.MODE_8BIT_BYTE:return 8;case E.MODE_KANJI:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case E.MODE_NUMBER:return 12;case E.MODE_ALPHA_NUM:return 11;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 10;default:throw"mode:"+e}else if(t<41)switch(e){case E.MODE_NUMBER:return 14;case E.MODE_ALPHA_NUM:return 13;case E.MODE_8BIT_BYTE:return 16;case E.MODE_KANJI:return 12;default:throw"mode:"+e}else throw"type:"+t},i.getLostPoint=function(e){const t=e.getModuleCount();let u=0;for(let g=0;g<t;g+=1)for(let h=0;h<t;h+=1){let A=0;const L=e.isDark(g,h);for(let T=-1;T<=1;T+=1)if(!(g+T<0||t<=g+T))for(let k=-1;k<=1;k+=1)h+k<0||t<=h+k||T==0&&k==0||L==e.isDark(g+T,h+k)&&(A+=1);A>5&&(u+=3+A-5)}for(let g=0;g<t-1;g+=1)for(let h=0;h<t-1;h+=1){let A=0;e.isDark(g,h)&&(A+=1),e.isDark(g+1,h)&&(A+=1),e.isDark(g,h+1)&&(A+=1),e.isDark(g+1,h+1)&&(A+=1),(A==0||A==4)&&(u+=3)}for(let g=0;g<t;g+=1)for(let h=0;h<t-6;h+=1)e.isDark(g,h)&&!e.isDark(g,h+1)&&e.isDark(g,h+2)&&e.isDark(g,h+3)&&e.isDark(g,h+4)&&!e.isDark(g,h+5)&&e.isDark(g,h+6)&&(u+=40);for(let g=0;g<t;g+=1)for(let h=0;h<t-6;h+=1)e.isDark(h,g)&&!e.isDark(h+1,g)&&e.isDark(h+2,g)&&e.isDark(h+3,g)&&e.isDark(h+4,g)&&!e.isDark(h+5,g)&&e.isDark(h+6,g)&&(u+=40);let p=0;for(let g=0;g<t;g+=1)for(let h=0;h<t;h+=1)e.isDark(h,g)&&(p+=1);const b=Math.abs(100*p/t/t-50)/5;return u+=b*10,u},i})(),v=(function(){const d=new Array(256),w=new Array(256);for(let o=0;o<8;o+=1)d[o]=1<<o;for(let o=8;o<256;o+=1)d[o]=d[o-4]^d[o-5]^d[o-6]^d[o-8];for(let o=0;o<255;o+=1)w[d[o]]=o;const a={};return a.glog=function(o){if(o<1)throw"glog("+o+")";return w[o]},a.gexp=function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return d[o]},a})(),U=function(d,w){if(typeof d.length>"u")throw d.length+"/"+w;const a=(function(){let i=0;for(;i<d.length&&d[i]==0;)i+=1;const l=new Array(d.length-i+w);for(let e=0;e<d.length-i;e+=1)l[e]=d[e+i];return l})(),o={};return o.getAt=function(i){return a[i]},o.getLength=function(){return a.length},o.multiply=function(i){const l=new Array(o.getLength()+i.getLength()-1);for(let e=0;e<o.getLength();e+=1)for(let t=0;t<i.getLength();t+=1)l[e+t]^=v.gexp(v.glog(o.getAt(e))+v.glog(i.getAt(t)));return U(l,0)},o.mod=function(i){if(o.getLength()-i.getLength()<0)return o;const l=v.glog(o.getAt(0))-v.glog(i.getAt(0)),e=new Array(o.getLength());for(let t=0;t<o.getLength();t+=1)e[t]=o.getAt(t);for(let t=0;t<i.getLength();t+=1)e[t]^=v.gexp(v.glog(i.getAt(t))+l);return U(e,0).mod(i)},o},V=(function(){const d=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],w=function(i,l){const e={};return e.totalCount=i,e.dataCount=l,e},a={},o=function(i,l){switch(l){case Q.L:return d[(i-1)*4+0];case Q.M:return d[(i-1)*4+1];case Q.Q:return d[(i-1)*4+2];case Q.H:return d[(i-1)*4+3];default:return}};return a.getRSBlocks=function(i,l){const e=o(i,l);if(typeof e>"u")throw"bad rs block @ typeNumber:"+i+"/errorCorrectionLevel:"+l;const t=e.length/3,u=[];for(let p=0;p<t;p+=1){const b=e[p*3+0],g=e[p*3+1],h=e[p*3+2];for(let A=0;A<b;A+=1)u.push(w(g,h))}return u},a})(),Y=function(){const d=[];let w=0;const a={};return a.getBuffer=function(){return d},a.getAt=function(o){const i=Math.floor(o/8);return(d[i]>>>7-o%8&1)==1},a.put=function(o,i){for(let l=0;l<i;l+=1)a.putBit((o>>>i-l-1&1)==1)},a.getLengthInBits=function(){return w},a.putBit=function(o){const i=Math.floor(w/8);d.length<=i&&d.push(0),o&&(d[i]|=128>>>w%8),w+=1},a},tt=function(d){const w=E.MODE_NUMBER,a=d,o={};o.getMode=function(){return w},o.getLength=function(e){return a.length},o.write=function(e){const t=a;let u=0;for(;u+2<t.length;)e.put(i(t.substring(u,u+3)),10),u+=3;u<t.length&&(t.length-u==1?e.put(i(t.substring(u,u+1)),4):t.length-u==2&&e.put(i(t.substring(u,u+2)),7))};const i=function(e){let t=0;for(let u=0;u<e.length;u+=1)t=t*10+l(e.charAt(u));return t},l=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;throw"illegal char :"+e};return o},et=function(d){const w=E.MODE_ALPHA_NUM,a=d,o={};o.getMode=function(){return w},o.getLength=function(l){return a.length},o.write=function(l){const e=a;let t=0;for(;t+1<e.length;)l.put(i(e.charAt(t))*45+i(e.charAt(t+1)),11),t+=2;t<e.length&&l.put(i(e.charAt(t)),6)};const i=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return o},nt=function(d){const w=E.MODE_8BIT_BYTE,a=H.stringToBytes(d),o={};return o.getMode=function(){return w},o.getLength=function(i){return a.length},o.write=function(i){for(let l=0;l<a.length;l+=1)i.put(a[l],8)},o},rt=function(d){const w=E.MODE_KANJI,a=H.stringToBytes;(function(l,e){const t=a(l);if(t.length!=2||(t[0]<<8|t[1])!=e)throw"sjis not supported."})("友",38726);const o=a(d),i={};return i.getMode=function(){return w},i.getLength=function(l){return~~(o.length/2)},i.write=function(l){const e=o;let t=0;for(;t+1<e.length;){let u=(255&e[t])<<8|255&e[t+1];if(33088<=u&&u<=40956)u-=33088;else if(57408<=u&&u<=60351)u-=49472;else throw"illegal char at "+(t+1)+"/"+u;u=(u>>>8&255)*192+(u&255),l.put(u,13),t+=2}if(t<e.length)throw"illegal char at "+(t+1)},i},G=function(){const d=[],w={};return w.writeByte=function(a){d.push(a&255)},w.writeShort=function(a){w.writeByte(a),w.writeByte(a>>>8)},w.writeBytes=function(a,o,i){o=o||0,i=i||a.length;for(let l=0;l<i;l+=1)w.writeByte(a[l+o])},w.writeString=function(a){for(let o=0;o<a.length;o+=1)w.writeByte(a.charCodeAt(o))},w.toByteArray=function(){return d},w.toString=function(){let a="";a+="[";for(let o=0;o<d.length;o+=1)o>0&&(a+=","),a+=d[o];return a+="]",a},w},ot=function(){let d=0,w=0,a=0,o="";const i={},l=function(t){o+=String.fromCharCode(e(t&63))},e=function(t){if(t<0)throw"n:"+t;if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(t==62)return 43;if(t==63)return 47;throw"n:"+t};return i.writeByte=function(t){for(d=d<<8|t&255,w+=8,a+=1;w>=6;)l(d>>>w-6),w-=6},i.flush=function(){if(w>0&&(l(d<<6-w),d=0,w=0),a%3!=0){const t=3-a%3;for(let u=0;u<t;u+=1)o+="="}},i.toString=function(){return o},i},it=function(d){const w=d;let a=0,o=0,i=0;const l={};l.read=function(){for(;i<8;){if(a>=w.length){if(i==0)return-1;throw"unexpected end of file./"+i}const u=w.charAt(a);if(a+=1,u=="=")return i=0,-1;if(u.match(/^\s$/))continue;o=o<<6|e(u.charCodeAt(0)),i+=6}const t=o>>>i-8&255;return i-=8,t};const e=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(t==43)return 62;if(t==47)return 63;throw"c:"+t};return l},st=function(d,w){const a=d,o=w,i=new Array(d*w),l={};l.setPixel=function(p,b,g){i[b*a+p]=g},l.write=function(p){p.writeString("GIF87a"),p.writeShort(a),p.writeShort(o),p.writeByte(128),p.writeByte(0),p.writeByte(0),p.writeByte(0),p.writeByte(0),p.writeByte(0),p.writeByte(255),p.writeByte(255),p.writeByte(255),p.writeString(","),p.writeShort(0),p.writeShort(0),p.writeShort(a),p.writeShort(o),p.writeByte(0);const b=2,g=t(b);p.writeByte(b);let h=0;for(;g.length-h>255;)p.writeByte(255),p.writeBytes(g,h,255),h+=255;p.writeByte(g.length-h),p.writeBytes(g,h,g.length-h),p.writeByte(0),p.writeString(";")};const e=function(p){const b=p;let g=0,h=0;const A={};return A.write=function(L,T){if(L>>>T)throw"length over";for(;g+T>=8;)b.writeByte(255&(L<<g|h)),T-=8-g,L>>>=8-g,h=0,g=0;h=L<<g|h,g=g+T},A.flush=function(){g>0&&b.writeByte(h)},A},t=function(p){const b=1<<p,g=(1<<p)+1;let h=p+1;const A=u();for(let P=0;P<b;P+=1)A.add(String.fromCharCode(P));A.add(String.fromCharCode(b)),A.add(String.fromCharCode(g));const L=G(),T=e(L);T.write(b,h);let k=0,I=String.fromCharCode(i[k]);for(k+=1;k<i.length;){const P=String.fromCharCode(i[k]);k+=1,A.contains(I+P)?I=I+P:(T.write(A.indexOf(I),h),A.size()<4095&&(A.size()==1<<h&&(h+=1),A.add(I+P)),I=P)}return T.write(A.indexOf(I),h),T.write(g,h),T.flush(),L.toByteArray()},u=function(){const p={};let b=0;const g={};return g.add=function(h){if(g.contains(h))throw"dup key:"+h;p[h]=b,b+=1},g.size=function(){return b},g.indexOf=function(h){return p[h]},g.contains=function(h){return typeof p[h]<"u"},g};return l},ct=function(d,w,a){const o=st(d,w);for(let t=0;t<w;t+=1)for(let u=0;u<d;u+=1)o.setPixel(u,t,a(u,t));const i=G();o.write(i);const l=ot(),e=i.toByteArray();for(let t=0;t<e.length;t+=1)l.writeByte(e[t]);return l.flush(),"data:image/gif;base64,"+l};H.stringToBytes;document.getElementById("identity-btn").addEventListener("click",()=>J("identity"));document.getElementById("age-btn").addEventListener("click",()=>J("age"));window.addEventListener("load",()=>{typeof H>"u"?console.error("QRCodeライブラリが読み込まれていません"):console.log("QRCodeライブラリが正常に読み込まれました"),ft()});const ft=()=>{Z()?(document.getElementById("no-vc-message").style.display="none",document.getElementById("vp-presentation-area").style.display="block"):(document.getElementById("no-vc-message").style.display="block",document.getElementById("vp-presentation-area").style.display="none")},J=d=>{ut(d),lt(d)},ut=async d=>{const w=document.getElementById("qr-area"),a=q(d);if(!a)throw new Error("VP生成に失敗しました");const o=a;console.log("QRデータサイズ:",o.length,"bytes"),await z();try{const i=H(10,"L");i.addData(o),i.make();const l=i.createImgTag(4,0);w.innerHTML=l,w.className="bg-light border rounded mx-auto d-flex align-items-center justify-content-center",w.style.maxWidth="300px",w.style.width="100%",w.style.aspectRatio="1";const e=w.querySelector("img");e&&(e.style.width="100%",e.style.height="100%",e.style.objectFit="contain"),setTimeout(()=>{document.getElementById("qr-area").scrollIntoView({behavior:"smooth"})},100)}catch(i){console.error("QRコード生成エラー:",i),w.innerHTML=`
      <div class="d-flex align-items-center justify-content-center h-100">
        <div class="text-center text-danger">
          <p class="mb-0">QRコード生成に失敗しました</p>
        </div>
      </div>
    `}},lt=d=>{document.querySelectorAll("button[data-scene]").forEach(o=>{o.classList.remove("selected")});const a=document.querySelector(`button[data-scene="${d}"]`);a&&a.classList.add("selected")};
